//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
function libsql__notify_wait($sql_handle, $timewait = 30, $timeout = 100000)
{
	$result = new result_t(__FUNCTION__, __FILE__);


	if (function_exists("pg_socket") === false) // php < 5.6
	{
		usleep($timeout);
		return $result;
	}


	$sock = @pg_socket($sql_handle);
	if ($sock === false)
	{
		usleep($timeout);
		return $result;
	}

	$read   = array($sock);
	$write  = array();
	$except = array($sock);
	stream_select($read, $write, $except, $timewait);


	$result->set_ok();
	return $result;
}
//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
